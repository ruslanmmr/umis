{"version":3,"sources":["common.js"],"names":["$","document","ready","nav","window","resize","innerWidth","setTimeout","each","imagesResize","this","$navButton","$navClose","$nav","$page","$overlay","scrollLock","addClass","fadeIn","fadeOut","removeClass","toggleClass","e","navState","on","lazy","effect","Lazy","visibleOnly","threshold","imageBase","defaultImage","afterLoad","parent","box","element","hasClass","boxH","height","boxW","width","imgH","banner","activeSlide","$slider","$navLink","pag","find","index","eq","event","slick","currentSlide","nextSlide","dots","infinite","arrows","fade","slidesToScroll","preventDefault"],"mappings":"aAAAA,EAAEC,UAAUC,MAAM,WAChBC,MADAF,WAIDD,EAJDI,QAAAC,OAAA,WAKED,WAAQC,EAAO,QAAAC,aACfA,WAAU,WACVC,EAAAA,OAAWC,KAAA,WACPC,aAAYT,EAAAU,aAOlB,IAAIJ,WAAaN,EAAE,QAAQM,aAIzB,SAAIK,MAAJ,IACEC,EAAaZ,EAAC,aADhBY,EAEWZ,EAAA,cAFXa,EAGOb,EAAA,gBAHPc,EAIEC,EAAQ,uBAEVJ,EAAAX,EAAc,YAgBVgB,SAAAA,IACAF,EAAMG,SAAS,4BACfF,WAASG,KAAOlB,EAAA,SAHlBc,EAIOG,SAAA,UACLD,EAAAA,OAAgBhB,OAEhBe,WAASI,KAATnB,EAAiB,SAClBc,EAAAM,YAAA,UACFL,EAAAI,QAAA,MAtBCN,EAAKQ,GAAAA,QAAY,SAAAC,GACjBC,EAAAA,iBAHFV,EAAAQ,YAAA,2BAKAT,MAEEW,EAAQC,GAAA,QAAA,WAFVX,EAAAO,YAAA,2BAIAL,MAEEQ,EAAAA,GAAQ,mBAAA,WAFVV,EAAAO,YAAA,2BAEEG,MAeAvB,EAAAI,QAAIE,OAAU,WACPc,IAALP,aACAU,EAAAA,YAAQ,2BACTA,OAKHvB,SAAEyB,OACAC,EAAAA,SAAQC,KADM,CAEdC,OAAAA,OACAC,aAHc,EAIdC,UAAW,EACXC,WAAAA,EACAC,cAAW,EACTA,UAAO,SAAWC,GAAlB,IAAIC,EAAMC,EAAQF,SAClB,IAAGC,EAAIE,SAAH,uBAAJ,CACE,IAAIC,EAAOH,EAAII,SACXC,EAAOL,EAAIM,QACfjC,WAAW,WACT,IAAIkC,EAAON,EAAQG,SACRH,EAAQK,QACUC,GAAxBF,EAAOF,EAAZF,EAASlB,SAAL,MAAsBG,YAAU,MAApCe,EAEOlB,SAAA,MAAAG,YAAA,MAENe,EAAAlB,SAAA,YAEA,SApBO,SAAhBR,aAAA0B,GAwBD,IAAAD,EAAAC,EAAAF,SAGC,IAAIC,EAAIE,SAAS,uBAAwB,CAF3C,IAAAC,EAAS5B,EAAAA,SACHyB,EAAMC,EAAAA,QAINM,EAAON,EAAQG,SAHXF,EAASI,QACfC,GAAIJ,EAAOH,EAAXC,EACMlB,SAAOuB,MADbpB,YAAA,MAAAe,EAGMlB,SAAWuB,MAARpB,YAHT,OAQC,SAAAsB,SACF,IAOCC,EAPDC,EAAA5C,EAAA,mBAGH6C,EAAA7C,EAAA,qBAmCE,SAAS8C,IACPH,EAAcC,EAAQG,KAAK,iBAAiBC,QAC5CH,EAASzB,YAAY,UACrBpB,EAAE,qBAAqBiD,GAAGN,GAAaI,KAAKF,GAAU5B,SAAS,UArCnE2B,EAASF,GAAAA,OAAS,SAAAQ,EAAAC,EAAAC,EAAAC,GAChBP,IAAArB,SAKEqB,EAAGK,MAAA,CACH1B,UAAI,EAFN6B,MAAA,EAKAV,QAAQO,EACNI,MAAAA,EACAD,MAAM,IACNE,aAHY,EAIZC,eAJY,IAOZC,EAAAA,GAAAA,qBAAgB,SAAAR,EAAAC,EAAAC,EAAAC,GAPlB9C,WAAA,WAUEqC,KACErC,OADFsC,EAAArB,GAAA,QAAA,SAAA0B,GAMAL,EAASrB,iBACP0B,IAAMS,EAAAA,EAAAA,MAAN1B,SAAAe,QACAJ,EAASO,MAAK,YAAeH,GAC7BJ","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  nav();\r\n  banner();\r\n  //lazy();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  setTimeout(function() {\r\n    $('img').each(function() {\r\n      imagesResize($(this))\r\n    });\r\n  })\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth();\r\n\r\n//nav\r\nfunction nav() {\r\n  var $navButton = $('.nav-open'),\r\n    $navClose = $('.nav-close'),\r\n    $nav = $('.header__nav'),\r\n    $page = $('.wrapper__container'),\r\n    $overlay = $('.overlay')\r\n\r\n  $navButton.on('click', function (e) {\r\n    e.preventDefault();\r\n    $nav.toggleClass('header__content_visible');\r\n    navState();\r\n  })\r\n  $navClose.on('click', function () {\r\n    $nav.removeClass('header__content_visible');\r\n    navState();\r\n  })\r\n  $overlay.on('click touchstart', function () {\r\n    $nav.removeClass('header__content_visible');\r\n    navState();\r\n  })\r\n  \r\n  function navState() {\r\n    if ($nav.hasClass('header__content_visible')) {\r\n      scrollLock.hide($(\"body\"));\r\n      $page.addClass('active');\r\n      $overlay.fadeIn(300);\r\n    } else {\r\n      scrollLock.show($(\"body\"));\r\n      $page.removeClass('active');\r\n      $overlay.fadeOut(300);\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if (innerWidth > 992) {\r\n      $nav.removeClass('header__content_visible');\r\n      navState();\r\n    }\r\n  });\r\n}\r\n\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    effect: 'show',\r\n    visibleOnly: true,\r\n    threshold: 0,\r\n    imageBase: false,\r\n    defaultImage: false,\r\n    afterLoad: function(element) {\r\n      var box = element.parent();\r\n      if(!box.hasClass('cover-box_size-auto')) {\r\n        var boxH = box.height(),\r\n            boxW = box.width();\r\n        setTimeout(function() {\r\n          var imgH = element.height(),\r\n              imgW = element.width();\r\n          if ((boxW / boxH) >= (imgW / imgH)) {\r\n          element.addClass('ww').removeClass('wh');\r\n          } else {\r\n            element.addClass('wh').removeClass('ww');\r\n          }\r\n          element.addClass('visible');\r\n        }, 100)\r\n      }\r\n    }\r\n  });\r\n}\r\nfunction imagesResize(element) {\r\n  var box = element.parent();\r\n  if(!box.hasClass('cover-box_size-auto')) {\r\n    var boxH = box.height(),\r\n      boxW = box.width(),\r\n      imgH = element.height(),\r\n      imgW = element.width();\r\n    if ((boxW / boxH) >= (imgW / imgH)) {\r\n      element.addClass('ww').removeClass('wh');\r\n    } else {\r\n      element.addClass('wh').removeClass('ww');\r\n    }\r\n  }\r\n}\r\n\r\n//banner\r\nfunction banner() {\r\n  var $slider = $('.banner__slider'),\r\n    $navLink = $('.banner__nav-link'),\r\n    activeSlide;\r\n\r\n  $slider.on('init', function(event, slick, currentSlide, nextSlide){\r\n    pag();\r\n    lazy();\r\n  });\r\n\r\n  $slider.slick({\r\n    infinite: true,\r\n    dots: false,\r\n    arrows: false,\r\n    fade: true,\r\n    speed: 300,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n  });\r\n\r\n    $slider.on('swipe beforeChange', function(event, slick, currentSlide, nextSlide){\r\n      setTimeout(function() {\r\n        pag();\r\n      }, 300)\r\n    });\r\n\r\n    $navLink.on('click', function(event) {\r\n      event.preventDefault();\r\n      var index = $(this).parent().index();\r\n      $slider.slick('slickGoTo', index);\r\n      pag();\r\n    });\r\n\r\n  //custom pagination\r\n  function pag() {\r\n    activeSlide = $slider.find('.slick-active').index();\r\n    $navLink.removeClass('active');\r\n    $('.banner__nav-item').eq(activeSlide).find($navLink).addClass('active');\r\n  }\r\n}"]}