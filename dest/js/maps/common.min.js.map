{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","cover","banner","gallery","nav","scrollpage","innerWidth","$navButton","$navClose","$nav","$page","$overlay","scrollLock","addClass","fadeIn","removeClass","fadeOut","e","preventDefault","navState","window","resize","Lazy","visibleOnly","threshold","effect","effectTime","afterLoad","each","th","this","tw","width","height","ih","im","children","$slider","on","event","slick","currentSlide","nextSlide","text","slideCount","fade","infinite","dots","arrows","nextArrow","speed","slidesToShow","slidesToScroll","prevArrow","responsive","settings","breakpoint","popup","selector","fancybox","backFocus","loop","eq","currentTarget","$trigger","attr","length","trigger","$scrollTopbutton","animate","scrollTop","$body","scroll","$scrolLink","setTimeout","id","offset","top"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  cover();\r\n  banner()\r\n  gallery();\r\n  nav();\r\n  popup();\r\n  scrollpage();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth();\r\n\r\n//nav\r\nfunction nav() {\r\n  var $navButton = $('.nav-open'),\r\n    $navClose = $('.nav__close, .scroll-button'),\r\n    $nav = $('.header__nav'),\r\n    $page = $('.wrapper__container'),\r\n    $overlay = $('.overlay')\r\n\r\n  $navButton.on('click', function (e) {\r\n    e.preventDefault();\r\n    $nav.toggleClass('header__content_visible');\r\n    navState();\r\n  })\r\n  $navClose.on('click', function () {\r\n    $nav.removeClass('header__content_visible');\r\n    navState();\r\n  })\r\n  $overlay.on('click touchstart', function () {\r\n    $nav.removeClass('header__content_visible');\r\n    navState();\r\n  })\r\n  \r\n  function navState() {\r\n    if ($nav.hasClass('header__content_visible')) {\r\n      scrollLock.hide($(\"body\"));\r\n      $page.addClass('active');\r\n      $overlay.fadeIn(300);\r\n    } else {\r\n      scrollLock.show($(\"body\"));\r\n      $page.removeClass('active');\r\n      $overlay.fadeOut(300);\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if (innerWidth > 992) {\r\n      $nav.removeClass('header__content_visible');\r\n      navState();\r\n    }\r\n  });\r\n}\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: false,\r\n    threshold: '500',\r\n    effect: 'fadeIn',\r\n    effectTime: '300',\r\n    afterLoad: function() {\r\n      cover();\r\n    }\r\n  });\r\n}\r\n//image-cover-box\r\nfunction cover() {\r\n  $('.cover-box').each(function() {\r\n    //set size\r\n    var th = $(this).height(),//box height\r\n        tw = $(this).width(),//box width\r\n        im = $(this).children('img'),//image\r\n        ih = im.height(),\r\n        iw = im.width();\r\n    if ((tw/th) >= (iw/ih)) {\r\n        im.addClass('ww').removeClass('wh');\r\n    } else {\r\n        im.addClass('wh').removeClass('ww');\r\n    }\r\n  });\r\n}\r\n//banner\r\nfunction banner() {\r\n  var $slider = $('.banner-slider__container');\r\n\r\n  $slider.on('init reInit afterChange', function(event, slick, currentSlide, nextSlide){\r\n    //currentSlide is undefined on init -- set it to 0 in this case (currentSlide is 0 based)\r\n    $('.banner-slider__current').text((currentSlide ? currentSlide : 0) + 1);\r\n    $('.banner-slider__count').text(slick.slideCount);\r\n    lazy();\r\n  });\r\n\r\n  $slider.slick({\r\n    infinite: true,\r\n    dots: false,\r\n    arrows: true,\r\n    fade: true,\r\n    speed: 400,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    prevArrow: '.banner-slider__prev',\r\n    nextArrow: '.banner-slider__next'\r\n  });\r\n}\r\n\r\n//gallery\r\nfunction gallery() {\r\n  var $slider = $('.gallery-slider__container');\r\n  $slider.on('afterChange', function(event){\r\n    lazy();\r\n  });\r\n  $slider.slick({\r\n    infinite: true,\r\n    dots: false,\r\n    arrows: true,\r\n    fade: false,\r\n    speed: 400,\r\n    slidesToShow: 4,\r\n    slidesToScroll: 4,\r\n    prevArrow: '.gallery-slider__prev',\r\n    nextArrow: '.gallery-slider__next',\r\n    responsive: [\r\n      {\r\n        breakpoint: 992,\r\n        settings: {\r\n          slidesToShow: 3,\r\n          slidesToScroll: 3\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 768,\r\n        settings: {\r\n          slidesToShow: 2,\r\n          slidesToScroll: 2\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 480,\r\n        settings: {\r\n          slidesToShow: 1,\r\n          slidesToScroll: 1\r\n        }\r\n      }\r\n    ]\r\n  });\r\n}\r\n\r\n//popup\r\nfunction popup() {\r\n  var selector = '.gallery-slide:not(.slick-cloned)';\r\n\r\n  // Skip cloned elements\r\n  $().fancybox({\r\n    selector : selector,\r\n    backFocus : false,\r\n    loop: true\r\n  });\r\n\r\n  $(document).on('click', '.slick-cloned', function(e) {\r\n    $(selector)\r\n      .eq( ( $(e.currentTarget).attr(\"data-slick-index\") || 0) % $(selector).length )\r\n      .trigger(\"click.fb-start\", {\r\n        $trigger: $(this)\r\n      });\r\n\r\n    return false;\r\n  });\r\n  $('body').removeClass('compensate-for-scrollbar');\r\n}\r\n\r\n//scroll\r\nfunction scrollpage() {\r\n  var $scrollTopbutton = $('.up__button'),\r\n      $scrolLink = $('.scroll-button'),\r\n      $body = $(\"html, body\");\r\n\r\n  $scrollTopbutton.on('click', function() {\r\n    $('body,html').animate({\r\n      scrollTop: 0\r\n    }, 500);\r\n  })\r\n\r\n  scroll();\r\n  $(window).scroll(function(){\r\n    scroll();\r\n  });\r\n  $scrolLink.on('click', function (event) {\r\n    var id  = $(this).attr('href'),\r\n        top = $(id).offset().top;\r\n    \r\n    event.preventDefault();\r\n\r\n    $('body,html').animate({scrollTop: top}, 400);\r\n      $body.addClass(\"in-scroll\");\r\n      setTimeout(function() {\r\n        $body.removeClass(\"in-scroll\");\r\n      }, 400)\r\n  })\r\n}"]}