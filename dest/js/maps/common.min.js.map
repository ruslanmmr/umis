{"version":3,"sources":["common.js"],"names":["$","document","ready","nav","lazy","resize","innerWidth","window","each","setTimeout","this","$navButton","$navClose","$nav","$page","$overlay","scrollLock","addClass","fadeIn","removeClass","fadeOut","e","preventDefault","navState","Lazy","effect","visibleOnly","threshold","imageBase","defaultImage","afterLoad","element","box","parent","hasClass","height","boxH","imgH","imgW","imagesResize","boxW","width","activeSlide","$slider","$navLink","pag","find","index","eq","on","event","slick","currentSlide","nextSlide","arrows","infinite","dots","slidesToShow","slidesToScroll"],"mappings":"aAAAA,EAAEC,UAAUC,MAAM,WAChBC,MADAF,SACAE,SAEAC,EAAAA,QAAIC,OAAA,WAHNC,WAAAN,EAAA,QAAAM,aAKEC,WAAQF,WACRC,EAAAA,OAAUE,KAAK,WACfC,aAAWT,EAAAU,aAQb,IAAIJ,WAAaN,EAAE,QAAQM,aAG3B,SAASH,MACP,IAAIQ,EAAaX,EAAE,aAAnBY,EACWZ,EAAGA,cADda,EAEMb,EAAGA,gBAFTc,EAGOd,EAAGA,uBAHVe,EAIUf,EAAGA,YAiBX,SAAIa,IACFG,EAAAA,SAAgBhB,4BAChBc,WAAMG,KAASjB,EAAA,SACfe,EAAAA,SAAA,UAHFA,EAIOG,OAAA,OAELJ,WAAMK,KAAAA,EAAY,SAClBJ,EAAAA,YAAiB,UAClBA,EAAAK,QAAA,MAtBDC,EAAEC,GAAAA,QAAF,SAAAD,GACAR,EAAAA,iBACAU,EAAAA,YAAQ,2BAHVA,MAMEV,EAAKM,GAAAA,QAAY,WACjBI,EAAAA,YAAQ,2BAFVA,MAKEV,EAAKM,GAAAA,mBAAY,WACjBI,EAAAA,YAAQ,2BAFVA,MAgBAvB,EAAEO,QAAQF,OAAO,WACE,IAAbC,aACFO,EAAKM,YAAY,2BACjBI,OAKN,SAASnB,OACPJ,EAAE,SAASwB,KAAK,CACdC,OAAQ,OACRC,aAAa,EACbC,UAAW,EACXC,WAAW,EACXC,cAAc,EACdC,UAAW,SAAAC,GACT,IAAIC,EAAMD,EAAQE,SAClB,IAAID,EAAIE,SAAS,uBAAwB,CAAzC,IAAIF,EAAIE,EAAJC,SACEC,EAAOJ,EAAIG,QAAf1B,WACWuB,WACXvB,IAAAA,EAAWsB,EAAAI,SACEJ,EAAQI,QAAnBE,GACIC,EAAOP,EAEXA,EAAQd,SAAS,MAAME,YAAY,MAAnCY,EAAQd,SAAS,MAAME,YAAY,MAEjCY,EAAAA,SAAQd,YACT,SAIN,SAAAsB,aAAAR,GAtBa,IAAhBC,EAAAD,EAAAE,SAwBD,IAAAD,EAAAE,SAAA,uBAAA,CAIG,IAAIE,EAAOJ,EAAIG,SAHnBK,EAASD,EAAAA,QACHP,EAAMD,EAAQE,SAKPF,EAAQU,QAJFJ,GAAbL,EAAIE,EACNH,EAAQd,SAAOkB,MAAfhB,YAAA,MAAAY,EAEMd,SAAWkB,MAARhB,YAFT,OAOEY,SAAAA,SACD,IAILW,EAJKC,EAAA3C,EAAA,mBACF4C,EAAA5C,EAAA,qBAsCD,SAAS6C,IAATH,EAAeC,EAAAG,KAAA,iBAAAC,QACbL,EAAAA,YAAqB,UACrBE,EAAAA,qBAAqBI,GAAAN,GAArBI,KAAAF,GAAA3B,SAAA,UA/BF0B,EAAQM,GAAG,OAAQ,SAASC,EAAOC,EAAOC,EAAcC,GAL1DR,IACEzC,SAIAuC,EAAQM,MAAG,CACTJ,UAAG,EACHzC,MAAI,EAFNkD,QAAA,EAKAX,MAAQQ,EACNI,MAAAA,IACAC,aAFY,EAGZF,eAHY,IAMZG,EAAAA,GAAAA,qBANY,SAAAP,EAAAC,EAAAC,EAAAC,GAOZK,WAAAA,WAPFb,KAUS,OAGJD,EAFDK,GAAA,QAAA,SAAAC,GADFA,EAAA5B,iBAMAsB,IAAQG,EAAI/C,EAAAU,MAASuB,SAASiB,QAC5BA,EAAM5B,MAAAA,YAANyB,GACAF","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  nav();\r\n  banner();\r\n  lazy();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  setTimeout(function() {\r\n    $('img').each(function() {\r\n      imagesResize($(this))\r\n    });\r\n  })\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth();\r\n\r\n//nav\r\nfunction nav() {\r\n  var $navButton = $('.nav-open'),\r\n    $navClose = $('.nav-close'),\r\n    $nav = $('.header__nav'),\r\n    $page = $('.wrapper__container'),\r\n    $overlay = $('.overlay')\r\n\r\n  $navButton.on('click', function (e) {\r\n    e.preventDefault();\r\n    $nav.toggleClass('header__content_visible');\r\n    navState();\r\n  })\r\n  $navClose.on('click', function () {\r\n    $nav.removeClass('header__content_visible');\r\n    navState();\r\n  })\r\n  $overlay.on('click touchstart', function () {\r\n    $nav.removeClass('header__content_visible');\r\n    navState();\r\n  })\r\n  \r\n  function navState() {\r\n    if ($nav.hasClass('header__content_visible')) {\r\n      scrollLock.hide($(\"body\"));\r\n      $page.addClass('active');\r\n      $overlay.fadeIn(300);\r\n    } else {\r\n      scrollLock.show($(\"body\"));\r\n      $page.removeClass('active');\r\n      $overlay.fadeOut(300);\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if (innerWidth > 992) {\r\n      $nav.removeClass('header__content_visible');\r\n      navState();\r\n    }\r\n  });\r\n}\r\n\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    effect: 'show',\r\n    visibleOnly: true,\r\n    threshold: 0,\r\n    imageBase: false,\r\n    defaultImage: false,\r\n    afterLoad: function(element) {\r\n      var box = element.parent();\r\n      if(!box.hasClass('cover-box_size-auto')) {\r\n        var boxH = box.height(),\r\n            boxW = box.width();\r\n        setTimeout(function() {\r\n          var imgH = element.height(),\r\n              imgW = element.width();\r\n          if ((boxW / boxH) >= (imgW / imgH)) {\r\n          element.addClass('ww').removeClass('wh');\r\n          } else {\r\n            element.addClass('wh').removeClass('ww');\r\n          }\r\n          element.addClass('visible');\r\n        }, 100)\r\n      }\r\n    }\r\n  });\r\n}\r\nfunction imagesResize(element) {\r\n  var box = element.parent();\r\n  if(!box.hasClass('cover-box_size-auto')) {\r\n    var boxH = box.height(),\r\n      boxW = box.width(),\r\n      imgH = element.height(),\r\n      imgW = element.width();\r\n    if ((boxW / boxH) >= (imgW / imgH)) {\r\n      element.addClass('ww').removeClass('wh');\r\n    } else {\r\n      element.addClass('wh').removeClass('ww');\r\n    }\r\n  }\r\n}\r\n\r\n//banner\r\nfunction banner() {\r\n  var $slider = $('.banner__slider'),\r\n    $navLink = $('.banner__nav-link'),\r\n    activeSlide;\r\n\r\n  $slider.on('init', function(event, slick, currentSlide, nextSlide){\r\n    pag();\r\n    lazy();\r\n  });\r\n\r\n  $slider.slick({\r\n    infinite: true,\r\n    dots: false,\r\n    arrows: false,\r\n    fade: true,\r\n    speed: 300,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n  });\r\n\r\n    $slider.on('swipe beforeChange', function(event, slick, currentSlide, nextSlide){\r\n      setTimeout(function() {\r\n        pag();\r\n      }, 300)\r\n    });\r\n\r\n    $navLink.on('click', function(event) {\r\n      event.preventDefault();\r\n      var index = $(this).parent().index();\r\n      $slider.slick('slickGoTo', index);\r\n      pag();\r\n    });\r\n\r\n  //custom pagination\r\n  function pag() {\r\n    activeSlide = $slider.find('.slick-active').index();\r\n    $navLink.removeClass('active');\r\n    $('.banner__nav-item').eq(activeSlide).find($navLink).addClass('active');\r\n  }\r\n}"]}